---
// Log the full request URL to see what's actually being received
console.log('Full request URL:', Astro.request.url);

// Check the raw headers to see if there's any information there
console.log('Request headers:', Object.fromEntries(Astro.request.headers.entries()));

// Try accessing the raw query string
const url = new URL(Astro.request.url);
console.log('Raw query string:', url.search);

// Try both methods of getting params
const params = url.searchParams;
console.log('Search params object:', params);
console.log('All search params:', [...params.entries()]);

const slug = params.get('slug');
const dk = params.get('dk');
console.log('Specific params:', { slug, dk });

// Also log Astro.url which is another way to access the current URL
console.log('Astro.url:', Astro.url);
console.log('Astro.url.searchParams:', [...Astro.url.searchParams.entries()]);
---

<html>
  <head><title>Debug Page</title></head>
  <body>
    <h1>Debug Information</h1>
    <p>Check your server logs for the debug information</p>
    
    <script>
      // Log client-side for comparison
      console.log('Client-side URL:', window.location.href);
      console.log('Client-side search params:', new URLSearchParams(window.location.search).toString());
    </script>
  </body>
</html>