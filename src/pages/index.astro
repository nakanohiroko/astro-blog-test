---
import Layout from "../layouts/Layout.astro";
import Carousel from '../components/Carousel.astro';
import Counter from '../components/Counter';

// microCMS呼び出し
import { getBlogList } from "../libs/microcms";
const response = await getBlogList();
const images = response.contents.map((content) => content.thumbnail);  // 追加
---

<Layout>
  <main class="main">
    <Carousel images={images} />
    <ul>
      {
        response.contents.map((content) => (
          <li>
            <a href={content.id}>{content.title}</a>
          </li>
        ))
      }
    </ul>
    <Counter client:load />
    <a href="/static">静的ページへ</a>
    <a href="/dynamic">動的ページへ</a>
  </main>
</Layout>

<style>
  .main {
    margin: 0 auto;
    max-width: 960px;
  }
</style>